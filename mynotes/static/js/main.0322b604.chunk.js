(this["webpackJsonpcheckpoint-1"]=this["webpackJsonpcheckpoint-1"]||[]).push([[0],[,,,,,,,function(t,e,n){t.exports={NewForm:"NewForm_NewForm__UvWQm",InputGroup:"NewForm_InputGroup__13zT2"}},function(t,e,n){t.exports={EditForm:"EditForm_EditForm__2S6SG",InputGroup:"EditForm_InputGroup__1-5WB"}},,,,function(t,e,n){t.exports={Card:"Card_Card__1SGnZ","fade-out":"Card_fade-out__2VAwB",ContentGroup:"Card_ContentGroup__2HaDv",ButtonGroup:"Card_ButtonGroup__28rJU"}},,function(t,e,n){t.exports={EmptyList:"Home_EmptyList__1YXYs",List:"Home_List__Drwaw"}},,function(t,e,n){t.exports={NavButton:"Nav_NavButton__y4BBf"}},function(t,e,n){t.exports={Header:"Header_Header__3QXp-"}},function(t,e,n){t.exports={Modal:"Modal_Modal__14XSL","fade-in":"Modal_fade-in__2NzBR","fade-out":"Modal_fade-out__2rtpw"}},function(t,e,n){t.exports={Scaffold:"Scaffold_Scaffold__3ybuc"}},,,,,,,,function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(15),o=n.n(r),i=n(16),s=n.n(i),u=n(20),l=n(2),d=n(0),j=Object(a.createContext)({}),b=function(t){var e=t.children,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)(!0),s=Object(l.a)(i,2),b=s[0],m=s[1],O=Object(a.useState)(),f=Object(l.a)(O,2),p=f[0],x=f[1],h=Object(a.useState)(function(){var t=localStorage.getItem("MyNotes");return t?JSON.parse(t):[]}()),v=Object(l.a)(h,2),g=v[0],_=v[1];return Object(d.jsx)(j.Provider,{value:{listOfNotes:g,updateList:function(t,e){var n,a=Object(u.a)(g);switch(e){case"edit":var c=a.findIndex((function(e){return e.id===t.id}));(n=a.filter((function(e){return e.id!==t.id}))).splice(c,0,t);break;case"delete":n=a.filter((function(e){return e.id!==t.id}));break;default:a.unshift(t),n=a}_(n),function(t){var e=JSON.stringify(t);localStorage.setItem("MyNotes",e)}(n)},modalOpen:r,toggleModal:function(){var t=0;r&&(t=200),m((function(t){return!t})),setTimeout((function(){o((function(t){return!t}))}),t)},modalInnerComponent:p,setModalInnerComponent:x,modalTransition:b},children:e})},m=n(5),O=n.n(m),f=n(3),p=n(11),x=n(4),h=function(t,e){return new Promise((function(n){var a,c=e||5e3,r=new Image;r.onerror=r.onabort=function(){clearTimeout(a),n("error")},r.onload=function(){clearTimeout(a),n("success")},a=setTimeout((function(){r.src="//!!!!/test.jpg",n("timeout")}),c),r.src=t}))},v=function(t){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",n=function(t){return Math.floor(Math.random()*(e.length-t))},a=e[n(11)],c=0;c<t;c++)a+=e[n(1)];return a},g=n(7),_=n.n(g),C=function(){var t={title:"",content:"",image:""},e=Object(a.useState)(t),n=Object(l.a)(e,2),c=n[0],r=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),s=i[0],u=i[1],b=Object(a.useState)(""),m=Object(l.a)(b,2),g=m[0],C=m[1],N=Object(a.useState)(""),S=Object(l.a)(N,2),I=S[0],w=S[1],F=Object(a.useContext)(j),k=h(g,3e3),M=function(){var e=Object(p.a)(O.a.mark((function e(n){var a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,n.preventDefault(),e.t0=g,!e.t0){e.next=14;break}return e.next=6,k;case 6:if(e.t2=e.sent,e.t1="error"===e.t2,e.t1){e.next=13;break}return e.next=11,k;case 11:e.t3=e.sent,e.t1="timeout"===e.t3;case 13:e.t0=e.t1;case 14:if(!e.t0){e.next=17;break}r((function(t){return Object(f.a)(Object(f.a)({},t),{},{image:"O valor informado deve ser uma URL contendo uma imagem"})})),a=!0;case 17:if(s||(r((function(t){return Object(f.a)(Object(f.a)({},t),{},{title:"O t\xedtulo \xe9 obrigat\xf3rio"})})),a=!0),!a){e.next=20;break}return e.abrupt("return");case 20:c={id:v(16),title:s,image:g,content:I},F.updateList(c,"new"),F.toggleModal(),u(""),C(""),w(""),r(t),a=!1,x.b.success("Nota criada com sucesso!");case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("form",{className:_.a.NewForm,onSubmit:M,children:[Object(d.jsx)("h1",{children:"Criar Nova Nota"}),Object(d.jsxs)("div",{className:_.a.InputGroup,children:[Object(d.jsx)("label",{htmlFor:"title",children:"T\xedtulo"}),Object(d.jsx)("input",{type:"text",name:"title",id:"title",value:s,onChange:function(t){return u(t.target.value)}}),c.title&&Object(d.jsx)("div",{children:c.title})]}),Object(d.jsxs)("div",{className:_.a.InputGroup,children:[Object(d.jsx)("label",{htmlFor:"image",children:"URL de Imagem"}),Object(d.jsx)("input",{type:"text",name:"image",id:"image",value:g,onChange:function(t){return C(t.target.value)}}),c.image&&Object(d.jsx)("div",{children:c.image})]}),Object(d.jsxs)("div",{className:_.a.InputGroup,children:[Object(d.jsx)("label",{htmlFor:"content",children:"Conte\xfado"}),Object(d.jsx)("textarea",{rows:4,name:"content",id:"content",value:I,onChange:function(t){return w(t.target.value)}}),c.content&&Object(d.jsx)("div",{children:c.content})]}),Object(d.jsx)("button",{type:"submit",children:"Criar"})]})},N=function(){var t=Object(a.useContext)(j);return Object(d.jsx)("button",{onClick:function(){t.toggleModal(),t.setModalInnerComponent((function(){return Object(d.jsx)(C,{})}))},"data-open":t.modalOpen,className:s.a.NavButton})},S=n(17),I=n.n(S),w=function(){return Object(d.jsxs)("header",{className:I.a.Header,children:[Object(d.jsx)("img",{src:"logo.png",alt:"mynotes"}),Object(d.jsx)(N,{})]})},F=n(18),k=n.n(F),M=function(t){var e=t.component,n=Object(a.useContext)(j);return Object(d.jsx)("div",{className:k.a.Modal,"aria-expanded":n.modalOpen,"data-transition":n.modalTransition,children:e})},y=n(19),G=n.n(y),L=function(t){var e=t.children,n=Object(a.useContext)(j);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:G.a.Scaffold,children:[Object(d.jsx)(w,{}),e]}),Object(d.jsx)(M,{component:n.modalInnerComponent})]})},B=n(8),T=n.n(B),E=function(t){var e=t.note,n={title:"",content:"",image:""},c=Object(a.useState)(n),r=Object(l.a)(c,2),o=r[0],i=r[1],s=Object(a.useState)(e.title),u=Object(l.a)(s,2),b=u[0],m=u[1],v=Object(a.useState)(e.image||""),g=Object(l.a)(v,2),_=g[0],C=g[1],N=Object(a.useState)(e.content),S=Object(l.a)(N,2),I=S[0],w=S[1],F=Object(a.useContext)(j),k=h(_,3e3),M=function(){var t=Object(p.a)(O.a.mark((function t(a){var c,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=!1,a.preventDefault(),t.t0=_,!t.t0){t.next=14;break}return t.next=6,k;case 6:if(t.t2=t.sent,t.t1="error"===t.t2,t.t1){t.next=13;break}return t.next=11,k;case 11:t.t3=t.sent,t.t1="timeout"===t.t3;case 13:t.t0=t.t1;case 14:if(!t.t0){t.next=17;break}i((function(t){return Object(f.a)(Object(f.a)({},t),{},{image:"O valor informado deve ser uma URL contendo uma imagem"})})),c=!0;case 17:if(b||(i((function(t){return Object(f.a)(Object(f.a)({},t),{},{title:"O t\xedtulo \xe9 obrigat\xf3rio"})})),c=!0),!c){t.next=20;break}return t.abrupt("return");case 20:r={id:e.id,title:b,image:_,content:I},F.updateList(r,"edit"),F.toggleModal(),m(""),C(""),w(""),i(n),c=!1,x.b.success("Nota editada com sucesso!");case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)("form",{className:T.a.EditForm,onSubmit:M,children:[Object(d.jsx)("h1",{children:"Editar Nota"}),Object(d.jsxs)("div",{className:T.a.InputGroup,children:[Object(d.jsx)("label",{htmlFor:"title",children:"T\xedtulo"}),Object(d.jsx)("input",{type:"text",name:"title",id:"title",value:b,onChange:function(t){return m(t.target.value)}}),o.title&&Object(d.jsx)("div",{children:o.title})]}),Object(d.jsxs)("div",{className:T.a.InputGroup,children:[Object(d.jsx)("label",{htmlFor:"image",children:"URL de Imagem"}),Object(d.jsx)("input",{type:"text",name:"image",id:"image",value:_,onChange:function(t){return C(t.target.value)}}),o.image&&Object(d.jsx)("div",{children:o.image})]}),Object(d.jsxs)("div",{className:T.a.InputGroup,children:[Object(d.jsx)("label",{htmlFor:"content",children:"Conte\xfado"}),Object(d.jsx)("textarea",{rows:4,name:"content",id:"content",value:I,onChange:function(t){return w(t.target.value)}}),o.content&&Object(d.jsx)("div",{children:o.content})]}),Object(d.jsx)("button",{type:"submit",children:"Enviar"})]})},D=n(12),H=n.n(D),R=function(t){var e=t.id,n=t.title,c=t.content,r=t.image,o=t.imageDescription,i=Object(a.useContext)(j),s=Object(a.useRef)(null),u=Object(a.useRef)(null);return Object(d.jsxs)("div",{ref:s,className:H.a.Card,children:[Object(d.jsx)("h2",{ref:u,children:n}),Object(d.jsxs)("div",{className:H.a.ButtonGroup,children:[Object(d.jsx)("button",{"data-action":"edit",onClick:function(){i.setModalInnerComponent((function(){return Object(d.jsx)(E,{note:{id:e,title:n,content:c,image:r}})})),i.toggleModal()},children:Object(d.jsx)("img",{src:"icon-edit.png",alt:"edit icon"})}),Object(d.jsx)("button",{"data-action":"delete",onClick:function(){var t;null===(t=s.current)||void 0===t||t.setAttribute("data-remove","true"),x.b.success("Nota removida com sucesso"),setTimeout((function(){i.updateList({id:e,title:n,content:c,image:r},"delete")}),200)},children:Object(d.jsx)("img",{src:"icon-delete.png",alt:"delete icon"})})]}),Object(d.jsxs)("div",{className:H.a.ContentGroup,"data-title":n,children:[r&&Object(d.jsx)("img",{src:r,alt:o}),c&&Object(d.jsx)("p",{children:c})]})]})},U=n(14),J=n.n(U),P=function(){var t=Object(a.useContext)(j);return Object(d.jsxs)("div",{className:J.a.List,children:[0===t.listOfNotes.length&&Object(d.jsx)("p",{className:J.a.EmptyList,children:'Voc\xea n\xe3o tem nenhuma nota salva ainda. Clique no bot\xe3o "+" para adicionar uma nova.'}),t.listOfNotes.map((function(t){return Object(d.jsx)(R,{id:t.id,title:t.title,content:t.content,image:t.image,imageDescription:t.title},t.id)}))]})};var X=function(){return Object(d.jsxs)(b,{children:[Object(d.jsx)(x.a,{position:"bottom-center",reverseOrder:!1}),Object(d.jsx)(L,{children:Object(d.jsx)(P,{})})]})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),c(t),r(t),o(t)}))};n(27);o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root")),z()}],[[28,1,2]]]);
//# sourceMappingURL=main.0322b604.chunk.js.map